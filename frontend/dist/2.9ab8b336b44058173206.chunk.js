webpackJsonp([2],{120:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(45),a=n(121),s=n(122),c=n(277),l=n(290),d=n(126),u=n(123),m=function(){function MainModule(){}return MainModule}();m=o([i.NgModule({imports:[r.SharedModule,a.SharedComponentModule,s.MainRoutingModule,c.OnlineReadingModule,l.ReportModule,d.VendingMachineModule],declarations:[u.MainComponent],exports:[u.MainComponent]})],m),t.MainModule=m},121:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(){function SharedComponentModule(){}return SharedComponentModule}();r=o([i.NgModule({})],r),t.SharedComponentModule=r},122:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(87),a=n(123),s=[{path:"",component:a.MainComponent},{path:"vending-machine",loadChildren:function(){return new Promise(function(e){!function(t){e(n(126).VendingMachineModule)}(n)})}}],c=function(){function MainRoutingModule(){}return MainRoutingModule}();c=o([i.NgModule({imports:[r.RouterModule.forChild(s)],exports:[r.RouterModule]})],c),t.MainRoutingModule=c},123:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(87),s=function(){function MainComponent(e){this.router=e}return MainComponent.prototype.goToAnagrafica=function(){this.router.navigate(["/vending-machine"])},MainComponent}();s=o([r.Component({selector:"main",template:n(124),styles:[n(125)]}),i("design:paramtypes",[a.Router])],s),t.MainComponent=s},124:function(e,t){e.exports='<div class="container-fluid">\n    <div class="row">\n        <div class="col-xs-12 col-md-12 col-sm-12">\n            &nbsp;\n        </div>\n    </div>\n    <ngb-tabset>\n        <ngb-tab title="Online reading">\n            <ng-template ngbTabContent>\n                <div class="col-xs-12 col-md-12 col-sm-12">\n                    &nbsp;\n                </div>\n                <div class="col-xs-12 col-md-12 col-sm-12">\n                    &nbsp;\n                </div>\n                <div class="row">\n                    <div class="col-xs-12 col-md-12 col-sm-12">\n                        <total-income-view></total-income-view>\n                    </div>\n                </div>\n                <div class="col-xs-12 col-md-12 col-sm-12">\n                    &nbsp;\n                </div>\n                <div class="row">\n                    <div class="col-xs-12 col-md-12 col-sm-12">\n                        <ag-grid></ag-grid>\n                    </div>\n                </div>\n            </ng-template>\n        </ngb-tab>\n        <ngb-tab title="Report">\n            <ng-template ngbTabContent>\n                <div class="row">\n                    <div class="col-xs-12 col-md-12 col-sm-12">\n                        <report></report>\n                    </div>\n                </div>\n            </ng-template>\n        </ngb-tab>\n      <ngb-tab>\n            <ng-template ngbTabTitle>\n                <div>Vending machines</div>\n            </ng-template>\n            <ng-template ngbTabContent>\n                <div class="row">\n                    <div class="col-xs-12 col-md-12 col-sm-12">\n                        <vending-machine></vending-machine>\n                    </div>\n                </div>\n            </ng-template>\n        </ngb-tab>\n    </ngb-tabset>\n\n</div>'},125:function(e,t){e.exports='body {\n      font-family: -apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;\n}\n\n\n\n.card .card-header {\n    background-color: #2EB5E5 !important;\n}\n\n\n/* Extra small devices (phones, up to 767px) */\n\n@media (max-width: 767px) and (min-width: 200px) {\n\n    \n}\n\n\n/* Small devices (tablets, 768px and up) */\n\n@media (min-width: 768px) and (max-width: 991px) {\n   \n}\n\n\n/* tablets/desktops and up ----------- */\n\n@media (min-width: 992px) and (max-width: 1199px) {\n  \n}\n\n\n/* large desktops and up ----------- */\n\n@media screen and (min-width: 1200px) {\n    \n}'},126:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(45),a=n(121),s=n(127),c=n(133),l=n(272),d=n(273),u=n(276),m=function(){function VendingMachineModule(){}return VendingMachineModule}();m=o([i.NgModule({imports:[r.SharedModule,a.SharedComponentModule,l.VendingMachineRoutingModule,u.MachineDialogModule,s.SearchVendingMachineModule,c.GridVendingMachineModule],declarations:[d.VendingMachineComponent],exports:[s.SearchVendingMachineModule,c.GridVendingMachineModule,u.MachineDialogModule,d.VendingMachineComponent]})],m),t.VendingMachineModule=m},127:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(45),a=n(128),s=function(){function SearchVendingMachineModule(){}return SearchVendingMachineModule}();s=o([i.NgModule({imports:[r.SharedModule],declarations:[a.SearchVendingMachineComponent],exports:[a.SearchVendingMachineComponent]})],s),t.SearchVendingMachineModule=s},128:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(129),s=n(130),c=function(){function SearchVendingMachineComponent(){}return SearchVendingMachineComponent.prototype.ngOnInit=function(){this.getMachineInvoke(),this.model=new a.VendingMachineSearch},SearchVendingMachineComponent.prototype.getMachineInvoke=function(){this.getMachinesMock()},SearchVendingMachineComponent.prototype.getMachinesMock=function(){this.machineList=s.MACHINE_NICE},SearchVendingMachineComponent}();c=o([r.Component({selector:"search-vending-machine",template:n(131),styles:[n(132)]}),i("design:paramtypes",[])],c),t.SearchVendingMachineComponent=c},129:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function VendingMachineSearch(){}return VendingMachineSearch}();t.VendingMachineSearch=n},130:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MACHINE_NICE=[{id:1,name:"N-ICE 1"},{id:2,name:"N-ICE 2"},{id:3,name:"N-ICE 3"},{id:4,name:"N-ICE 4"},{id:5,name:"N-ICE 5"},{id:6,name:"N-ICE 6"},{id:7,name:"N-ICE 7"},{id:8,name:"N-ICE 8"},{id:9,name:"N-ICE 9"},{id:10,name:"N-ICE 10"},{id:11,name:"N-ICE 11"},{id:12,name:"N-ICE 12"},{id:13,name:"N-ICE 13"},{id:14,name:"N-ICE 14"},{id:15,name:"N-ICE 15"},{id:16,name:"N-ICE 16"},{id:17,name:"N-ICE 17"},{id:18,name:"N-ICE 18"},{id:19,name:"N-ICE 19"},{id:20,name:"N-ICE 20"},{id:21,name:"N-ICE 21"},{id:22,name:"N-ICE 22"},{id:23,name:"N-ICE 23"},{id:24,name:"N-ICE 24"},{id:25,name:"N-ICE 25"},{id:26,name:"N-ICE 26"},{id:27,name:"N-ICE 27"},{id:28,name:"N-ICE 28"},{id:29,name:"N-ICE 29"},{id:30,name:"N-ICE 30"}],t.ERRORS_NICE=[{id:"B2",name:"B2"},{id:"B6",name:"B6"},{id:"C2",name:"C2"}],t.MONTHDAYS=[{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5},{id:6,name:6},{id:7,name:7},{id:8,name:8},{id:9,name:9},{id:10,name:10},{id:11,name:11},{id:12,name:12},{id:13,name:13},{id:14,name:14},{id:15,name:15},{id:16,name:16},{id:17,name:17},{id:18,name:18},{id:19,name:19},{id:20,name:20},{id:21,name:21},{id:22,name:22},{id:23,name:23},{id:24,name:24},{id:25,name:25},{id:26,name:26},{id:27,name:27},{id:28,name:28},{id:29,name:29},{id:30,name:30},{id:31,name:31}],t.MONTHS=[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"}],t.YEARS=[{id:2010,name:"2010"},{id:2011,name:"2011"},{id:2012,name:"2012"},{id:2013,name:"2013"},{id:2014,name:"2014"},{id:2015,name:"2015"},{id:2016,name:"2016"},{id:2017,name:"2017"},{id:2018,name:"2018"},{id:2020,name:"2020"},{id:2021,name:"2021"},{id:2022,name:"2022"},{id:2023,name:"2023"},{id:2024,name:"2024"},{id:2025,name:"2025"}],t.WEEKDAYS=[{id:1,name:"Monday"},{id:2,name:"Tuesday"},{id:3,name:"Wednesday"},{id:4,name:"Thursday"},{id:5,name:"Friday"},{id:6,name:"Saturday"},{id:0,name:"Sunday"}],t.HOURS=[{id:0,name:"00:00"},{id:1,name:"01:00"},{id:2,name:"02:00"},{id:3,name:"03:00"},{id:4,name:"04:00"},{id:5,name:"05:00"},{id:6,name:"06:00"},{id:7,name:"07:00"},{id:8,name:"08:00"},{id:9,name:"09:00"},{id:10,name:"10:00"},{id:11,name:"11:00"},{id:12,name:"12:00"},{id:13,name:"13:00"},{id:14,name:"14:00"},{id:15,name:"15:00"},{id:16,name:"16:00"},{id:17,name:"17:00"},{id:18,name:"18:00"},{id:19,name:"19:00"},{id:20,name:"20:00"},{id:21,name:"21:00"},{id:22,name:"22:00"},{id:23,name:"23:00"}]},131:function(e,t){e.exports='<div>&nbsp;</div>\n<div class="row">\n    <div class="form-group col-4">\n        <label for="machineNice">N-ICE:</label>\n    </div>\n    <div class="form-group col-4">\n        <multiselect [dropdownList]="machineList" (selectedOptions)="model.machineIds = $event"></multiselect>\n    </div>\n</div>\n<div class="row">\n    <div class="form-group col-4">\n        <label for="machineNice">Status:</label>\n    </div>\n    <div class="form-group col-4">\n        <multiselect [dropdownList]="statusList" (selectedOptions)="model.status = $event"></multiselect>\n    </div>\n    <div class="form-group col-4">\n        <button type="button" (click)="find()" class="btn btn-primary" style="cursor:pointer">Find</button>\n    </div>\n</div>'},132:function(e,t){e.exports=""},133:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(45),a=n(134),s=n(135),c=n(141),l=function(){function GridVendingMachineModule(){}return GridVendingMachineModule}();l=o([i.NgModule({imports:[r.SharedModule,c.AgGridModule.withComponents([s.MachineDialogComponent])],declarations:[a.GridVendingMachineComponent],exports:[a.GridVendingMachineComponent,c.AgGridModule]})],l),t.GridVendingMachineModule=l},134:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(129),s=n(84),c=n(135),l=n(70),d=function(){function GridVendingMachineComponent(e,t){var n=this;this.emitService=e,this.machineService=t,this.errorMessage={},this.gridOptions={onGridReady:function(){n.gridOptions.api.refreshView(),n.gridOptions.api.sizeColumnsToFit(),n.gridOptions.enableColResize=!0,n.gridOptions.api.setHeaderHeight(40)},getRowHeight:function(){return 40}},this.columnDefs=[{headerName:"N-ICE",field:"machineId",width:130},{headerName:"Status",field:"status",width:150},{headerName:"Number",field:"machineCurrentNumber",width:240},{headerName:"Edit",width:110,cellRendererFramework:c.MachineDialogComponent}]}return GridVendingMachineComponent.prototype.ngOnInit=function(){this.model=new a.VendingMachineSearch},GridVendingMachineComponent.prototype.ngOnChanges=function(e){e.machinesList&&e.machinesList.currentValue&&(console.log(e.machinesList),this.rowData=e.machinesList.currentValue)},GridVendingMachineComponent}();o([r.Input(),i("design:type",Array)],d.prototype,"machinesList",void 0),d=o([r.Component({selector:"grid-vending-machine",template:n(139),styles:[n(140)]}),i("design:paramtypes",[s.EmitService,l.MachineService])],d),t.GridVendingMachineComponent=d},135:function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(57),c=n(70),l=n(136),d=n(81),u=function(){function MachineDialogComponent(e,t,n){this.modalService=e,this.dialogModalService=t,this.machineService=n,this.machinesFromSearch=[],this.machinesFromSearchFilteredByCellNumber=[],this.proceedFlag=!1,this.createFlag=!1,this.model=new l.Machine,this.statusList=[{id:"OK",name:"ACTIVE"},{id:"NA",name:"INACTIVE"}]}return MachineDialogComponent.prototype.agInit=function(e){this.params=e},MachineDialogComponent.prototype.ngOnInit=function(){this.originaryModel=new l.Machine,this.statusList=[{id:"OK",name:"ACTIVE"},{id:"NA",name:"INACTIVE"}]},MachineDialogComponent.prototype.open=function(e){var t=this;this.model=new l.Machine,this.machineService.getAllMachines().subscribe(function(e){t.createFlag&&(t.model.machineId=(Number(e.length)+Number(1)).toString()),t.machinesFromSearch=e},function(e){return t.errorMessage=e}),!this.createFlag&&this.params&&(this.model=o({},this.params.data),this.originaryModel=o({},this.params.data)),this.modalService.open(e).result.then(function(e){if("Confirm"==e){if(t.machinesFromSearchFilteredByCellNumber=[],t.createFlag?t.machinesFromSearchFilteredByCellNumber=t.machinesFromSearch.filter(function(e){return e.machineCurrentNumber===t.model.machineCurrentNumber}):t.machinesFromSearchFilteredByCellNumber=t.machinesFromSearch.filter(function(e){return e.machineCurrentNumber===t.model.machineCurrentNumber&&e.machineCurrentNumber!==t.originaryModel.machineCurrentNumber}),t.machinesFromSearchFilteredByCellNumber.length>0)return void t.dialogModalService.confirm({title:"Warning",type:"Warning",message:"You have chosen a number already used: chosen number = "+t.machinesFromSearchFilteredByCellNumber[0].machineCurrentNumber+" for N-ICE machine "+t.machinesFromSearchFilteredByCellNumber[0].machineId}).then();t.dialogModalService.confirm({title:"Confirm insert",message:"Do you really want to confirm?",type:"Confirm"}).then(function(){t.machineService.insertUpdateMachine(t.model,!!t.createFlag).subscribe(function(e){t.dialogModalService.confirm({title:"Success",type:"Info",message:"The operation has ended successfully"}).then()},function(e){return t.errorMessage=e})},function(){t.closeResult="Dismissed "+t.getDismissReason("by click Cancel")}),console.log(t)}else t.closeResult="Closed with: "+e},function(e){t.closeResult="Dismissed "+t.getDismissReason(e)})},MachineDialogComponent.prototype.disableConfirmButton=function(e){return e.invalid||e.pristine&&!this.createFlag||this.checkUnchangedValueOnEdit(e)},MachineDialogComponent.prototype.checkUnchangedValueOnEdit=function(e){return!this.createFlag&&(e.value.status===this.originaryModel.status&&e.value.machineCurrentNumber===this.originaryModel.machineCurrentNumber)},MachineDialogComponent.prototype.getDismissReason=function(e){return e===s.ModalDismissReasons.ESC?"by pressing ESC":e===s.ModalDismissReasons.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},MachineDialogComponent}();i([a.Input(),r("design:type",Boolean)],u.prototype,"createFlag",void 0),u=i([a.Component({selector:"machine-dialog",template:n(137),styles:[n(138)],providers:[c.MachineService]}),r("design:paramtypes",[s.NgbModal,d.DialogModalService,c.MachineService])],u),t.MachineDialogComponent=u},136:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function Machine(){}return Machine}();t.Machine=n},137:function(e,t){e.exports='<div align="center" *ngIf="!createFlag">\n  <i class="fa fa-pencil pointer" (click)="open(content)" aria-hidden="true"></i>\n</div>\n<button *ngIf="createFlag" type="button" (click)="open(content)" class="btn btn-primary" style="cursor:pointer">Create</button>\n\n<ng-template #content let-c="close" let-d="dismiss">\n  <form #f="ngForm" (ngSubmit)="onSubmit()">\n    <div class="modal-header">\n      <h4 class="modal-title" *ngIf="createFlag">Insert vending machine</h4>\n      <h4 class="modal-title" *ngIf="!createFlag">Edit vending machine</h4>\n      <button type="button" class="close" aria-label="Close" (click)="d(\'Cross click\')">\n        <span aria-hidden="true">&times;</span>\n      </button>\n    </div>\n    <div class="modal-body">\n      <!-- machines -->\n      <div class="row">\n        <div class="form-group col-4">\n          <label for="machineNice">N-ICE:</label>\n        </div>\n        <div class="form-group col-8">\n          <input type="text" disabled="disabled" class="form-control" [(ngModel)]="model.machineId" name="machineId"\n            minLength="10" maxlength="10" required>\n        </div>\n      </div>\n      <div class="row">\n        <div class="form-group col-4">\n          <label for="machineNice">Status:</label>\n        </div>\n        <div class="form-group col-8">\n          <select class="form-control" name="status" [(ngModel)]="model.status" required>\n            <option></option>\n            <option class="form-control" [ngValue]="item.id" *ngFor="let item of statusList">{{item.name}}</option>\n          </select>\n        </div>\n      </div>\n      <div class="row">\n        <div class="form-group col-4">\n          <label for="machineNice">Cell. number:</label>\n        </div>\n        <div class="form-group col-8">\n          <input type="text" pattern="[0-9]*" minlength="10" maxlength="10" class="form-control" [(ngModel)]="model.machineCurrentNumber"\n            name="machineCurrentNumber" required>\n        </div>\n      </div>\n\n      <ng-template confirm>\n        <dialog-modal-component></dialog-modal-component>\n      </ng-template>\n      \n    </div>\n\n    <div class="modal-footer">\n      <div class="col-xs-3 col-sm-3 col-md-3">\n        <button type="button" class="btn btn-secondary" (click)="c(\'Close click\')">Cancel</button>\n      </div>\n      <div class="col-xs-6 col-sm-6 col-md-6">&nbsp;</div>\n      <div class="col-xs-3 col-sm-3 col-md-3">\n        <button type="submit" class="btn btn-primary" [disabled]="disableConfirmButton(f)" (click)="c(\'Confirm\', f)">Confirm</button>\n      </div>\n    </div>\n\n\n\n  </form>\n  <!--<div >\n    <dialog-modal-component title="Confirm" message="Are you sure want to confirm? This operation will add/edit a machine. Please be careful"\n      type="Confirm"></dialog-modal-component>\n  </div>-->\n</ng-template>'},138:function(e,t){e.exports='.reset-btn {\n    cursor: pointer;\n    width: 80%;\n    height: 25px;\n    line-height: 10px;\n    color: white;\n    font-family: -apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;\n    font-size: 18px;\n    background-color: #2EB5E5;\n}\n.btn-primary:hover, .btn-primary:focus, .btn-primary:active, .btn-primary.active{\n    background-color: blue;\n}\n.pointer {\n    cursor:pointer\n}'},139:function(e,t){e.exports='<div>\n    <ag-grid-angular #agGrid class="ag-blue custom-ag" [gridOptions]="gridOptions" [columnDefs]="columnDefs" [rowData]="rowData">\n    </ag-grid-angular>\n</div>'},140:function(e,t){e.exports='.custom-ag {\n    font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n}\n\n.ag-blue .ag-header {\n    color: #34A8E9\n}\n\n/* small devices (phones, up to 480px) */\n\n@media (max-width: 767px) and (min-width: 200px) {\n    .custom-ag {\n        width: 100%;\n        height: 800px;\n        font-size: 22px;\n    }\n}\n\n\n/* Small devices (tablets, 768px and up) */\n\n@media (min-width: 768px) and (max-width: 991px) {\n    .custom-ag {\n        width: 99%;\n        height: 800px;\n        font-size: 22px;\n    }\n}\n\n\n/* tablets/desktops and up ----------- */\n\n@media (min-width: 992px) and (max-width: 1199px) {\n    .custom-ag {\n        width: 99%;\n        height: 800px;\n        font-size: 20px;\n    }\n}\n\n\n/* large desktops and up ----------- */\n\n@media screen and (min-width: 1200px) {\n    .custom-ag {\n        width: 100%;\n        height: 800px;\n        font-size: 18px;\n    }\n}'},272:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(87),a=n(273),s=[{path:"",component:a.VendingMachineComponent}],c=function(){function VendingMachineRoutingModule(){}return VendingMachineRoutingModule}();c=o([i.NgModule({imports:[r.RouterModule.forChild(s)],exports:[r.RouterModule]})],c),t.VendingMachineRoutingModule=c},273:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(84),s=n(70),c=function(){function VendingMachineComponent(e,t){this.emitService=e,this.machineService=t,this.errorMessage={}}return VendingMachineComponent.prototype.ngOnInit=function(){this.getAllMahines()},VendingMachineComponent.prototype.refresh=function(){this.getAllMahines()},VendingMachineComponent.prototype.getAllMahines=function(){var e=this;this.machineService.getAllMachines().subscribe(function(t){console.log(t),e.machinesFound=t},function(t){return e.errorMessage=t})},VendingMachineComponent}();c=o([r.Component({selector:"vending-machine",template:n(274),styles:[n(275)]}),i("design:paramtypes",[a.EmitService,s.MachineService])],c),t.VendingMachineComponent=c},274:function(e,t){e.exports='<div>&nbsp;</div>\n<div class="row">\n    <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12">\n        <div class="col-xs-5 col-md-5 col-sm-5 col-lg-5">\n            <h4>Operate on vending machines</h4>\n        </div>\n        <div>&nbsp;</div>\n        <div class="col-xs-4 col-md-4 col-sm-4 col-lg-4" align="center">\n            <machine-dialog [createFlag]="true"></machine-dialog>\n            <button type="button" (click)="refresh()" class="btn btn-primary" style="cursor:pointer">Refresh</button>\n        </div>\n    </div>\n</div>\n<hr>\n<div class="row">\n    <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12">\n        <grid-vending-machine [machinesList]="machinesFound"></grid-vending-machine>\n    </div>\n</div>'},275:132,276:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(45),a=n(135),s=n(50),c=function(){function MachineDialogModule(){}return MachineDialogModule}();c=o([i.NgModule({imports:[r.SharedModule,s.FormsModule],declarations:[a.MachineDialogComponent],exports:[a.MachineDialogComponent]})],c),t.MachineDialogModule=c},277:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(45),a=n(141),s=n(278),c=n(284),l=n(285),d=n(279),u=function(){function OnlineReadingModule(){}return OnlineReadingModule}();u=o([i.NgModule({imports:[r.SharedModule,a.AgGridModule.withComponents([l.ResetBreakdownModalComponent])],declarations:[s.TotalIncomeViewComponent,c.GridComponent,l.ResetBreakdownModalComponent],providers:[d.IncomeService],exports:[s.TotalIncomeViewComponent,c.GridComponent,l.ResetBreakdownModalComponent]})],u),t.OnlineReadingModule=u},278:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(279),s=n(3),c=function(){function TotalIncomeViewComponent(e){this.incomeService=e,this.totals=[],this.panels=[]}return TotalIncomeViewComponent.prototype.ngOnInit=function(){this.getTotalCurrentIncomesInvoke()},TotalIncomeViewComponent.prototype.getTotalCurrentIncomesInvoke=function(){this.getTotalCurrentIncomes()},TotalIncomeViewComponent.prototype.getTotalCurrentIncomes=function(){var e=this;this.incomeService.getTotalCurrentIncomes().subscribe(function(t){e.totals=new Array,e.totals.push(t.totalDay),e.totals.push(t.totalYesterday),e.totals.push(t.totalWeek),e.totals.push(t.totalMonth),e.panels=new Array,e.panels.push({id:1,type:"info",message:"Income today : "+e.totals[0]},{id:2,type:"success",message:"Income yesterday : "+e.totals[1]},{id:3,type:"info",message:"Income current week : "+e.totals[2]},{id:4,type:"success",message:"Income current month : "+e.totals[3]})},function(t){return e.errorMessage=t})},TotalIncomeViewComponent.prototype.getTotalCurrentIncomesMock=function(){var e=this;this.incomeService.getTotalCurrentIncomesMock().then(function(t){e.totals[0]=t[0].totalDay,e.totals[1]=t[0].totalYesterday,e.totals[2]=t[0].totalWeek,e.totals[3]=t[0].totalMonth})},TotalIncomeViewComponent}();o([s.Input(),i("design:type",Array)],c.prototype,"panels",void 0),c=o([r.Component({selector:"total-income-view",template:n(282),styles:[n(283)],providers:[a.IncomeService]}),i("design:paramtypes",[a.IncomeService])],c),t.TotalIncomeViewComponent=c},279:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(68),s=n(4);n(71),n(74);var c=n(280),l=n(281),d=function(){function IncomeService(e){this.http=e,this.getTableUrl="api/getTable",this.getTotalMoneyUrl="api/getTotalMoney","development"==={ENV:"production"}.NODE_ENV&&(this.getTableUrl="http://localhost:4200/getTable",this.getTotalMoneyUrl="http://localhost:4200/getTotalMoney")}return IncomeService.prototype.getIncomes=function(){return this.http.get(this.getTableUrl).map(this.extractData).catch(this.handleError)},IncomeService.prototype.getTotalCurrentIncomes=function(){return this.http.get(this.getTotalMoneyUrl).map(this.extractData).catch(this.handleError)},IncomeService.prototype.extractData=function(e){var t=e.json();return t||{}},IncomeService.prototype.handleError=function(e){var t;if(e instanceof a.Response){var n=e.json()||"",o=n.error||JSON.stringify(n);t=e.status+" - "+(e.statusText||"")+" "+o}else t=e.message?e.message:e.toString();return console.error(t),s.Observable.throw(t)},IncomeService.prototype.getIncomesMock=function(){return Promise.resolve(c.CURRENT_INCOMES)},IncomeService.prototype.getTotalCurrentIncomesMock=function(){return Promise.resolve(l.TOTAL_CURRENT_INCOMES)},IncomeService}();d=o([r.Injectable(),i("design:paramtypes",[a.Http])],d),t.IncomeService=d},280:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CURRENT_INCOMES=[{machineId:"1",totalCurrentDay:0,totalYesterDay:0,totalCurrentWeek:0,totalCurrentMonth:0,status:"OK",lastError:""},{machineId:"2",totalCurrentDay:0,totalYesterDay:0,totalCurrentWeek:0,totalCurrentMonth:0,status:"OK",lastError:"B"},{machineId:"3",totalCurrentDay:0,totalYesterDay:0,
totalCurrentWeek:0,totalCurrentMonth:0,status:"OK",lastError:"C"},{machineId:"4",totalCurrentDay:23,totalYesterDay:0,totalCurrentWeek:195,totalCurrentMonth:276,status:"WA",lastError:"D"},{machineId:"5",totalCurrentDay:0,totalYesterDay:0,totalCurrentWeek:36,totalCurrentMonth:117,status:"OK",lastError:"E"},{machineId:"6",totalCurrentDay:0,totalYesterDay:0,totalCurrentWeek:0,totalCurrentMonth:0,status:"ER",lastError:"B2,23:14,24/07/2017"},{machineId:"7",totalCurrentDay:0,totalYesterDay:0,totalCurrentWeek:0,totalCurrentMonth:0,status:"OK",lastError:"G"}]},281:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOTAL_CURRENT_INCOMES=[{totalDay:133,totalYesterday:234,totalWeek:1295,totalMonth:4276}]},282:function(e,t){e.exports='<div class="row">\n    <div *ngFor="let panel of panels" class="col-xs-3 col-sm-3 col-md-3">\n        <ngb-alert  [dismissible]="false" [type]="panel.type" >{{ panel.message }}</ngb-alert>\n    </div>\n</div>'},283:function(e,t){e.exports="/* Extra small devices (phones, up to 767px) */\n@media (max-width: 767px) and (min-width: 200px) {\n    .nav-item { \n        font-size: 25px;\n    }\n}\n\n\n/* Small devices (tablets, 768px and up) */\n\n@media (min-width: 768px) and (max-width: 991px) {\n    .nav-item { \n        font-size: 25px;\n    }\n}\n\n\n/* tablets/desktops and up ----------- */\n\n@media (min-width: 992px) and (max-width: 1199px) {\n    .nav-item { \n        font-size: 22px;\n    }\n}\n\n\n/* large desktops and up ----------- */\n\n@media screen and (min-width: 1200px) {\n    .custom-ag {\n        width: 100%;\n        height: 800px;\n        font-size: 18px;\n    }\n\n}\n\n"},284:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(279),s=n(285),c=function(){function GridComponent(e){var t=this;this.incomeService=e,this.gridOptions={onGridReady:function(){t.gridOptions.api.refreshView(),t.gridOptions.api.sizeColumnsToFit(),t.gridOptions.enableColResize=!0,t.gridOptions.api.setHeaderHeight(40)},getRowStyle:function(e){return"WA"===e.data.status?{"background-color":"#f9f9a2"}:"ER"===e.data.status?{"background-color":"#fc8080"}:"DA"===e.data.status?{"background-color":"#f2b715"}:"TI"===e.data.status?{"background-color":"#DDCBD7"}:{"background-color":"white"}},getRowHeight:function(){return 40}},this.columnDefs=[{headerName:"N-ICE",field:"machineId",width:110},{headerName:"Day total (&euro;)",field:"totalCurrentDay"},{headerName:"Yesterday total (&euro;)",field:"totalYesterDay"},{headerName:"Week total (&euro;)",field:"totalCurrentWeek"},{headerName:"Month total (&euro;)",field:"totalCurrentMonth"},{headerName:"Last error",field:"lastError",width:380},{headerName:"Reset",field:"value",cellRendererFramework:s.ResetBreakdownModalComponent}]}return GridComponent.prototype.ngOnInit=function(){this.getIncomesInvoke()},GridComponent.prototype.ngOnChanges=function(e){e.statusChange},GridComponent.prototype.getIncomesInvoke=function(){this.getIncomes()},GridComponent.prototype.getIncomes=function(){var e=this;this.incomeService.getIncomes().subscribe(function(t){e.rowData=t.filter(function(e){return"NA"!==e.status})},function(t){return e.errorMessage=t})},GridComponent.prototype.getIncomesMock=function(){var e=this;this.incomeService.getIncomesMock().then(function(t){e.rowData=t})},GridComponent.prototype.updateStatus=function(){console.log("ciao!!")},GridComponent}();o([r.Input(),i("design:type",String)],c.prototype,"statusChange",void 0),c=o([r.Component({selector:"ag-grid",template:n(288),styles:[n(289)],inputs:["statusChange"]}),i("design:paramtypes",[a.IncomeService])],c),t.GridComponent=c},285:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(57),s=n(70),c=n(84),l=function(){function ResetBreakdownModalComponent(e,t,n){this.modalService=e,this.machineService=t,this.emitService=n,this.updateStatusChange=new r.EventEmitter}return ResetBreakdownModalComponent.prototype.agInit=function(e){this.params=e},ResetBreakdownModalComponent.prototype.open=function(e){var t=this,n=this.params.rowIndex+1;this.modalService.open(e).result.then(function(e){"Confirm"==e?t.machineService.updateStatus("OK",n).subscribe(function(e){t.updateStatusChange.emit(e)},function(e){return t.errorMessage=e}):(t.closeResult="Closed with: "+e,t.updateStatusChange.emit(e))},function(e){t.closeResult="Dismissed "+t.getDismissReason(e)})},ResetBreakdownModalComponent.prototype.getDismissReason=function(e){return e===a.ModalDismissReasons.ESC?"by pressing ESC":e===a.ModalDismissReasons.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},ResetBreakdownModalComponent}();o([r.Output("statusChange"),i("design:type",r.EventEmitter)],l.prototype,"updateStatusChange",void 0),l=o([r.Component({selector:"reset-breakdown-modal",template:n(286),styles:[n(287)],providers:[c.EmitService]}),i("design:paramtypes",[a.NgbModal,s.MachineService,c.EmitService])],l),t.ResetBreakdownModalComponent=l},286:function(e,t){e.exports='<div align="center">\n  <i class="fa fa-eraser pointer" (click)="open(content)" aria-hidden="true"></i>\n</div>\n<ng-template #content let-c="close" let-d="dismiss">\n  <div class="modal-header">\n    <h4 class="modal-title">Confirmation reset</h4>\n    <button type="button" class="close" aria-label="Close" (click)="d(\'Cross click\')">\n      <span aria-hidden="true">&times;</span>\n    </button>\n  </div>\n  <div class="modal-body">\n    <p>Do you want to reset the error/warning? </p>\n  </div>\n  <div class="modal-footer">\n    <div class="col-xs-3 col-sm-3 col-md-3">\n      <button type="button" class="btn btn-secondary" (click)="c(\'Close click\')">Cancel</button>\n    </div>\n    <div class="col-xs-6 col-sm-6 col-md-6">&nbsp;</div>\n    <div class="col-xs-3 col-sm-3 col-md-3">\n      <button type="button" class="btn btn-primary" (click)="c(\'Confirm\')">Confirm</button>\n    </div>\n\n  </div>\n</ng-template>'},287:138,288:function(e,t){e.exports='<div (statusChange)="$event"></div>\n<ag-grid-angular #agGrid class="ag-blue custom-ag" [gridOptions]="gridOptions" [columnDefs]="columnDefs" [rowData]="rowData">\n</ag-grid-angular>'},289:function(e,t){e.exports='.custom-ag {\n    font-family: -apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;\n}\n\n\n/* small devices (phones, up to 480px) */\n\n@media (max-width: 767px) and (min-width: 200px) {\n    .custom-ag {\n        width: 100%;\n        height: 800px;\n        font-size: 22px;\n    }\n}\n\n\n/* Small devices (tablets, 768px and up) */\n\n@media (min-width: 768px) and (max-width: 991px) {\n    .custom-ag {\n        width: 99%;\n        height: 800px;\n        font-size: 22px;\n    }\n}\n\n\n/* tablets/desktops and up ----------- */\n\n@media (min-width: 992px) and (max-width: 1199px) {\n    .custom-ag {\n        width: 99%;\n        height: 800px;\n        font-size: 20px;\n    }\n}\n\n\n/* large desktops and up ----------- */\n\n@media screen and (min-width: 1200px) {\n    .custom-ag {\n        width: 100%;\n        height: 800px;\n        font-size: 18px;\n    }\n}'},290:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(45),a=n(291),s=n(297),c=n(293),l=function(){function ReportModule(){}return ReportModule}();l=o([i.NgModule({imports:[r.SharedModule],declarations:[a.ReportComponent],providers:[s.ReportService,c.AngularBlobService],exports:[a.ReportComponent]})],l),t.ReportModule=l},291:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(292),s=n(293),c=n(297),l=n(57),d=n(130),u=n(70),m=n(85),p=n(298),f=function(){function ReportComponent(e,t,n,o,i,s){this.reportService=e,this.angularBlobService=t,this.machineService=n,this.errorService=o,this.errorMessage={},this.content={},this.messageToDialog=new r.EventEmitter,this.model=new a.ReportSearch,this.model.groupByDay=!0,i.minDate={year:2010,month:1,day:1},i.maxDate={year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:(new Date).getDate()}}return ReportComponent.prototype.triggerExcelReport=function(){var e=this;this.modelSentToServer=JSON.parse(JSON.stringify(this.model)),this.modelSentToServer.dateFrom=this.reportService.transformDate(this.model.dateFrom),this.modelSentToServer.dateTo=this.reportService.transformDate(this.model.dateTo),this.modelSentToServer.dateFrom.valueOf()>this.modelSentToServer.dateTo.valueOf()&&alert('"Date from" is after "Date to": please check!'),this.modelSentToServer.groupByDay?this.angularBlobService.download(this.modelSentToServer):this.reportService.getExceedingMessages(this.modelSentToServer).toPromise().then(function(t){t&&"OK"===t?e.angularBlobService.download(e.modelSentToServer):alert("Excel too large: "+t)})},ReportComponent.prototype.ngOnInit=function(){this.getMachineInvoke(),this.getErrorsInvoke(),this.yearsList=d.YEARS,this.monthsList=d.MONTHS,this.monthDaysList=d.MONTHDAYS,this.weekDaysList=d.WEEKDAYS,this.hoursList=d.HOURS,this.showDialog=!1},ReportComponent.prototype.groupByDayChange=function(e){e=!e,this.model.groupByDay=!this.model.groupByDay,this.showMessagesFilters=!this.showMessagesFilters},ReportComponent.prototype.getMachineInvoke=function(){this.getMachinesMock()},ReportComponent.prototype.getMachinesMock=function(){this.machineList=d.MACHINE_NICE},ReportComponent.prototype.getMachines=function(){var e=this;this.machineService.getMachines().subscribe(function(t){return e.machineList=t},function(t){return e.errorMessage=t})},ReportComponent.prototype.getErrorsInvoke=function(){this.getErrors()},ReportComponent.prototype.getErrorsMock=function(){this.errorList=d.ERRORS_NICE},ReportComponent.prototype.getErrors=function(){var e=this;this.errorService.getErrorMaps().subscribe(function(t){return e.errorList=t},function(t){return e.errorMessage=t})},ReportComponent}();o([r.Output(),i("design:type",Object)],f.prototype,"messageToDialog",void 0),f=o([r.Component({selector:"report",template:n(299),styles:[n(300)],providers:[l.NgbDatepickerConfig,{provide:l.NgbDateParserFormatter,useClass:p.NgbDateITParserFormatter}]}),i("design:paramtypes",[c.ReportService,s.AngularBlobService,u.MachineService,m.ErrorMapService,l.NgbDatepickerConfig,l.NgbDateParserFormatter])],f),t.ReportComponent=f},292:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function ReportSearch(){}return ReportSearch}();t.ReportSearch=n},293:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(68),a=n(3),s=n(68),c=n(294),l=function(){function AngularBlobService(e){this.http=e,this.triggerReportIncomesByFilterUrl="api/getIncomesByFilter"}return AngularBlobService.prototype.download=function(e){this.http.post(this.triggerReportIncomesByFilterUrl,e,{method:s.RequestMethod.Post,responseType:s.ResponseContentType.Blob,headers:new s.Headers({"Content-Type":"application/json"})}).subscribe(function(e){var t=new Blob([e.blob()],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n="report.xlsx";c.saveAs(t,n)})},AngularBlobService}();l=o([a.Injectable(),i("design:paramtypes",[r.Http])],l),t.AngularBlobService=l},294:function(e,t,n){var o,i=i||function(e){"use strict";if(!("undefined"==typeof e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in o,r=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l="application/octet-stream",d=4e4,u=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,d)},m=function(e,t,n){t=[].concat(t);for(var o=t.length;o--;){var i=e["on"+t[o]];if("function"==typeof i)try{i.call(e,n||e)}catch(e){c(e)}}},p=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},f=function(t,c,d){d||(t=p(t));var f,h=this,g=t.type,v=g===l,y=function(){m(h,"writestart progress write writeend".split(" "))},b=function(){if((s||v&&a)&&e.FileReader){var o=new FileReader;return o.onloadend=function(){var t=s?o.result:o.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=e.open(t,"_blank");n||(e.location.href=t),t=void 0,h.readyState=h.DONE,y()},o.readAsDataURL(t),void(h.readyState=h.INIT)}if(f||(f=n().createObjectURL(t)),v)e.location.href=f;else{var i=e.open(f,"_blank");i||(e.location.href=f)}h.readyState=h.DONE,y(),u(f)};return h.readyState=h.INIT,i?(f=n().createObjectURL(t),void setTimeout(function(){o.href=f,o.download=c,r(o),y(),u(f),h.readyState=h.DONE})):void b()},h=f.prototype,g=function(e,t,n){return new f(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=p(e)),navigator.msSaveOrOpenBlob(e,t)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=i:null!==n(295)&&null!==n(296)&&(o=function(){return i}.call(t,n,t,e),!(void 0!==o&&(e.exports=o)))},295:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},296:function(e,t){(function(t){e.exports=t}).call(t,{})},297:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(68),s=n(4);n(71),n(74);var c=n(68),l=function(){function ReportService(e){this.http=e,this.triggerReportIncomesByFilterUrl="api/getIncomesByFilter",this.messagesCountUrl="/api/messagesCount",this.dateStruct={}}return ReportService.prototype.triggerReportByFilter=function(e){var t=new c.Headers({"Content-Type":"application/json"}),n=new c.RequestOptions({headers:t});return this.http.post(this.triggerReportIncomesByFilterUrl,{reportSearch:e},n).map(this.extractData).catch(this.handleError)},ReportService.prototype.transformDate=function(e){return new Date(e.year,e.month-1,e.day)},ReportService.prototype.getExceedingMessages=function(e){var t=new c.Headers({"Content-Type":"application/json"}),n=new c.RequestOptions({headers:t});return this.http.post(this.messagesCountUrl,{reportSearch:e},n).map(this.extractData).catch(this.handleError)},ReportService.prototype.getExceedingMessagesMock=function(e){return Promise.resolve("KO")},ReportService.prototype.extractData=function(e){var t=e.json();return t||{}},ReportService.prototype.handleError=function(e){var t;if(e instanceof a.Response){var n=e.json()||"",o=n.error||JSON.stringify(n);t=e.status+" - "+(e.statusText||"")+" "+o}else t=e.message?e.message:e.toString();return console.error(t),s.Observable.throw(t)},ReportService}();l=o([r.Injectable(),i("design:paramtypes",[a.Http])],l),t.ReportService=l},298:function(e,t,n){"use strict";function padNumber(e){return isNumber(e)?("0"+e).slice(-2):""}function isNumber(e){return!isNaN(toInteger(e))}function toInteger(e){return parseInt(""+e,10)}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(57),s=function(e){function NgbDateITParserFormatter(){return null!==e&&e.apply(this,arguments)||this}return o(NgbDateITParserFormatter,e),NgbDateITParserFormatter.prototype.parse=function(e){if(e){var t=e.trim().split("/");if(1===t.length&&isNumber(t[0]))return{year:toInteger(t[0]),month:null,day:null};if(2===t.length&&isNumber(t[0])&&isNumber(t[1]))return{year:toInteger(t[1]),month:toInteger(t[0]),day:null};if(3===t.length&&isNumber(t[0])&&isNumber(t[1])&&isNumber(t[2]))return{year:toInteger(t[2]),month:toInteger(t[1]),day:toInteger(t[0])}}return null},NgbDateITParserFormatter.prototype.format=function(e){var t="";return e&&(t+=isNumber(e.day)?padNumber(e.day)+"/":"",t+=isNumber(e.month)?padNumber(e.month)+"/":"",t+=e.year),t},NgbDateITParserFormatter}(a.NgbDateParserFormatter);s=i([r.Injectable()],s),t.NgbDateITParserFormatter=s},299:function(e,t){e.exports='<div>\n    <div>&nbsp;</div>\n    <div class="row">\n        <div class="col-xs-3 col-md-3 col-sm-3 col-lg-3">\n            <h4 *ngIf="!showMessagesFilters">Incomes data filter</h4>\n            <h4 *ngIf="showMessagesFilters">Messages data filter</h4>\n        </div>\n    </div>\n    <hr>\n    <div> &nbsp;</div>\n    <form name="form" (ngSubmit)="f.valid" #f="ngForm" novalidate>\n        <div class="row lineheight35">\n            <div class="col-xs-1 col-md-1 col-sm-1 col-lg-1">&nbsp;\n            </div>\n            <div class="col-xs-2 col-md-2 col-sm-2 col-lg-2">\n                <input type="checkbox" [checked]="model.groupByDay" (change)="groupByDayChange()" /> Group by day\n            </div>\n\n            <div class="col-xs-1 col-md-1 col-sm-1 col-lg-1">\n                <label for="dateFrom">Date from</label>\n            </div>\n\n            <!-- datepicker 1 -->\n\n            <div class="col-xs-2 col-md-2 col-sm-2 col-lg-2 form-group">\n                <!--<datepicker-popup [(model)]="model.dateFrom" (modelChange)="model.dateFrom = $event" [required]="true" id="dateFrom"></datepicker-popup>-->\n                <div class="input-group">\n                    <input class="form-control " [ngClass]="{\'contains-error\':  dp1.dirty && dp1.invalid  }" placeholder="gg/mm/aaaa" name="dp1"\n                        [(ngModel)]="model.dateFrom" ngbDatepicker #d1="ngbDatepicker" #dp1="ngModel" required minlength="10">\n                    <div class="input-group-addon" (click)="d1.toggle()">\n                        <i class="fa fa-calendar" aria-hidden="true"></i>\n                    </div>\n                </div>\n                <div *ngIf="f.submitted && dp1.invalid" class="help-block">"Date from" is required</div>\n            </div>\n\n            <div class="col-xs-1 col-md-1 col-sm-1 col-lg-1">\n                <label for="dateTo">Date to</label>\n            </div>\n\n            <!-- datepicker 2 -->\n\n            <div class="form-group col-xs-2 col-md-2 col-sm-2 col-lg-2">\n                <!--<datepicker-popup [(model)]="model.dateTo" (modelChange)="model.dateTo = $event" [required]="true" id="dateTo"></datepicker-popup>-->\n\n                <div class="input-group">\n                    <input class="form-control" [ngClass]="{\'contains-error\':  dp2.dirty && dp2.invalid  }" placeholder="gg/mm/aaaa" name="dp2"\n                        [(ngModel)]="model.dateTo" ngbDatepicker #d2="ngbDatepicker" #dp2="ngModel" required minlength="10">\n                    <div class="input-group-addon" (click)="d2.toggle()">\n                        <i class="fa fa-calendar" aria-hidden="true"></i>\n                    </div>\n                </div>\n                <!-- <div *ngIf="f.submitted && !dateTo.valid" class="help-block">"Date to" is required</div>-->\n            </div>\n\n            <!-- machines 2 -->\n            <div class="form-group col-xs-1 col-md-1 col-sm-1 col-lg-1">\n                <label for="machineNice">N-ICE:</label>\n            </div>\n\n            <div class="form-group col-xs-2 col-md-2 col-sm-2 col-lg-2">\n                <!-- <ss-multiselect-dropdown name="dropdownMachines" [options]="myOptions" [(ngModel)]="model.machineIds" (ngModelChange)="onChange($event)"></ss-multiselect-dropdown>-->\n                <multiselect [dropdownList]="machineList" (selectedOptions)="model.machineIds = $event"></multiselect>\n            </div>\n        </div>\n\n\n        <!-- REPORT ON MESSAGES SECTION -->\n        <div *ngIf="!showMessagesFilters">\n            <hr>\n            <div> &nbsp;</div>\n        </div>\n        <div *ngIf="showMessagesFilters">\n            <div class="row">\n\n                <div class="form-group col-xs-3 col-md-3 col-sm-3 col-lg-3">\n                    &nbsp;\n                </div>\n                <div class="form-group col-xs-1 col-md-1 col-sm-1 col-lg-1">\n                    <label>Monthdays</label>\n                </div>\n                <div class="form-group col-xs-2 col-md-2 col-sm-2 col-lg-2">\n                    <multiselect [dropdownList]="monthDaysList" (selectedOptions)="model.monthDays = $event"></multiselect>\n                </div>\n                <div class="form-group col-xs-1 col-md-1 col-sm-1 col-lg-1">\n                    <label>Months</label>\n                </div>\n                <div class="form-group col-xs-2 col-md-2 col-sm-2 col-lg-2">\n                    <multiselect [dropdownList]="monthsList" (selectedOptions)="model.months = $event"></multiselect>\n                </div>\n                <div class="form-group col-xs-1 col-md-1 col-sm-1 col-lg-1">\n                    <label>Years</label>\n                </div>\n                <div class="form-group col-xs-2 col-md-2 col-sm-2 col-lg-2">\n                    <multiselect [dropdownList]="yearsList" (selectedOptions)="model.years = $event"></multiselect>\n                </div>\n\n\n            </div>\n\n            <div class="row">\n                <div class="form-group col-xs-3 col-md-3 col-sm-3 col-lg-3">&nbsp;\n                </div>\n                <div class="form-group col-xs-1 col-md-1 col-sm-1 col-lg-1">\n                    <label>Weekdays</label>\n                </div>\n                <div class="form-group col-xs-2 col-md-2 col-sm-2 col-lg-2">\n                    <multiselect [dropdownList]="weekDaysList" (selectedOptions)="model.weekDays = $event"></multiselect>\n                </div>\n\n                <div class="form-group col-xs-1 col-md-1 col-sm-1 col-lg-1">\n                    <label>Hours</label>\n                </div>\n                <div class="form-group col-xs-2 col-md-2 col-sm-2 col-lg-2">\n                    <multiselect [dropdownList]="hoursList" (selectedOptions)="model.hours = $event"></multiselect>\n                </div>\n                <div class="form-group col-xs-1 col-md-1 col-sm-1 col-lg-1">\n                    <label for="machineNice">Errors</label>\n                </div>\n                <div class="form-group col-xs-2 col-md-2 col-sm-2 col-lg-2">\n                    <multiselect [dropdownList]="errorList" (selectedOptions)="model.errors = $event"></multiselect>\n                </div>\n            </div>\n\n\n            <div>&nbsp; </div>\n            <hr>\n        </div>\n\n\n        <div class="row">\n            <div class="form-group col-xs-3 col-md-3 col-sm-3 col-lg-3">\n                &nbsp;\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-xs-2 col-md-2 col-sm-2 col-lg-2" *ngIf="showMessagesFilters">\n                <button type="button" (click)="triggerExcelReport()" [disabled]="!f.valid" class="btn btn-primary" style="cursor:pointer">Export messages</button>\n            </div>\n            <div class="col-xs-2 col-md-2 col-sm-2 col-lg-2" *ngIf="!showMessagesFilters">\n                <button type="button" (click)="triggerExcelReport()" [disabled]="!f.valid" class="btn btn-primary" style="cursor:pointer">Export incomes</button>\n            </div>\n        </div>\n    </form>\n</div>'},300:function(e,t){e.exports=".contains-error{\n    border-color: red;\n}\n.lineheight35{\n    line-height: 35px;\n}"}});
//# sourceMappingURL=2.9ab8b336b44058173206.chunk.js.map